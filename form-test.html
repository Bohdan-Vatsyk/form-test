<style>
  .funding-widget {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    background: white;
    display: flex;
    min-height: 700px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    overflow: hidden;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    opacity: 0;
    transform: translateY(40px);
    animation: fadeInUp 0.8s ease-out forwards;
    animation-delay: 0.2s;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Left Panel - Selling Points */
  .left-panel {
    flex: 0 0 380px;
    background: #3C8648;
    padding: 60px 40px;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    opacity: 0;
    transform: translateX(-30px);
    animation: fadeInLeft 0.6s ease-out forwards;
    animation-delay: 0.5s;
  }

  @keyframes fadeInLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .left-panel h1 {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 40px;
    line-height: 1.2;
  }

  .selling-points {
    list-style: none;
    padding: 0;
  }

  .selling-point {
    display: flex;
    align-items: center;
    margin-bottom: 24px;
    font-size: 18px;
    line-height: 1.4;
    opacity: 0;
    transform: translateX(-20px);
    animation: fadeInLeft 0.5s ease-out forwards;
  }

  .selling-point:nth-child(1) { animation-delay: 0.7s; }
  .selling-point:nth-child(2) { animation-delay: 0.8s; }
  .selling-point:nth-child(3) { animation-delay: 0.9s; }
  .selling-point:nth-child(4) { animation-delay: 1.0s; }
  .selling-point:nth-child(5) { animation-delay: 1.1s; }
  .selling-point:nth-child(6) { animation-delay: 1.2s; }

  .check-icon {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    margin-right: 16px;
    background: #F2D46E;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .check-icon svg {
    width: 16px;
    height: 16px;
    fill: #3C8648;
  }

  /* Right Panel - Form */
  .right-panel {
    flex: 1;
    padding: 40px;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  /* Progress Bar */
  .progress-container {
    margin-bottom: 50px;
    opacity: 0;
    transform: translateY(-20px);
    animation: fadeInDown 0.6s ease-out forwards;
    animation-delay: 0.6s;
  }

  @keyframes fadeInDown {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .progress-info {
    text-align: center;
    margin-bottom: 20px;
    color: #718096;
    font-size: 16px;
  }

  .progress-bar {
    width: 100%;
    height: 8px;
    background: #e2e8f0;
    border-radius: 4px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: #3c8648;
    border-radius: 4px;
    transition: width 0.5s ease;
    width: 14%;
  }

  /* Back Button */
  .back-button {
    position: absolute;
    top: 40px;
    left: 40px;
    background: none;
    border: none;
    color: #718096;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 16px;
    transition: color 0.3s ease;
    padding: 8px;
    z-index: 10;
  }

  .back-button:hover {
    color: #3c8648;
  }

  .back-button svg {
    width: 20px;
    height: 20px;
  }

  /* Step Container */
  .form-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
  }

  .step-container {
    display: none;
    opacity: 0;
    transform: translateX(30px);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .step-container.active {
    display: block;
  }

  .step-container.active.show {
    opacity: 1;
    transform: translateX(0);
  }

  .step-container.fade-out {
    opacity: 0;
    transform: translateX(-30px);
  }

  .step-header {
    text-align: center;
    margin-bottom: 40px;
  }

  .step-label {
    text-transform: uppercase;
    color: #718096;
    font-size: 14px;
    letter-spacing: 1px;
    margin-bottom: 15px;
  }

  .step-title {
    font-size: 28px;
    font-weight: 700;
    color: #2c3e50;
    margin: 0;
    line-height: 1.3;
  }

  /* Options Grid */
  .options-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    margin-bottom: 30px;
  }

  /* Center odd items when appropriate */
  .option-card:nth-child(5):last-child,
  .option-card:nth-child(7):last-child {
    grid-column: 1 / -1;
    max-width: calc(50% - 8px);
    margin: 0 auto;
  }

  /* For 8 items, keep regular grid */
  .options-grid:has(.option-card:nth-child(8)) .option-card:nth-child(7) {
    grid-column: auto;
    max-width: none;
    margin: 0;
  }

  .option-card {
    background: #f8f9fa;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 60px;
    text-align: center;
  }

  .option-card:hover {
    border-color: #3c8648;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(60, 134, 72, 0.1);
  }

  .option-card.selected {
    background: #f0f7f1;
    border-color: #3c8648;
  }

  .option-text {
    font-size: 18px;
    font-weight: 600;
    color: #2c3e50;
  }

  .check-mark {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 20px;
    height: 20px;
    background: #3c8648;
    border-radius: 50%;
    display: none;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
  }

  .option-card.selected .check-mark {
    display: flex;
  }

  /* Form Fields */
  .form-group {
    margin-bottom: 20px;
  }

  .form-group label {
    display: block;
    font-size: 16px;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 8px;
  }

  .form-input {
    width: 100%;
    padding: 14px 18px;
    font-size: 16px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    transition: border-color 0.3s ease;
    font-family: inherit;
  }

  .form-input:focus {
    outline: none;
    border-color: #3c8648;
  }

  .form-input.error {
    border-color: #e53e3e;
  }

  .error-message {
    color: #e53e3e;
    font-size: 14px;
    margin-top: 5px;
    display: none;
  }

  .error-message.show {
    display: block;
  }

  /* Checkbox */
  .checkbox-group {
    margin-top: 20px;
    margin-bottom: 20px;
  }

  .checkbox-label {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    cursor: pointer;
    font-size: 14px;
    color: #4a5568;
    line-height: 1.5;
  }

  .checkbox-input {
    width: 20px;
    height: 20px;
    margin-top: 2px;
    cursor: pointer;
    accent-color: #3c8648;
  }

  /* Submit Button */
  .submit-button {
    width: 100%;
    padding: 18px 32px;
    background: #3c8648;
    color: white;
    font-size: 18px;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 20px;
  }

  .submit-button:hover:not(:disabled) {
    background: #2f6b39;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(60, 134, 72, 0.3);
  }

  .submit-button:disabled {
    background: #cbd5e0;
    cursor: not-allowed;
  }

  /* Success Message */
  .success-container {
    display: none;
    padding: 0px 20px 20px;
    text-align: left;
  }

  .success-logo {
    width: 102px;
  }

  .success-main {
    display: flex;
    align-items: flex-start;
    gap: 40px;
  }

  .success-content {
    flex: 1;
  }

  .success-moose {
    width: 200px;
    height: auto;
  }

  .success-moose-mobile {
    display: none;
  }

  .success-title {
    font-size: 24px;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 15px;
  }

  .success-message {
    font-size: 16px;
    color: #718096;
    margin-bottom: 30px;
  }

  .cta-buttons {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  .cta-button {
    display: flex;
    flex-direction: column;
    padding: 12px 24px;
    border-radius: 8px;
    text-align: center;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    min-width: 150px;
    margin-top: 10px;
  }

  .cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .call-now {
    background: #3c8648;
    color: white;
  }

  .schedule-call {
    background: white;
    color: #3c8648;
    border: 2px solid #3c8648;
  }

  .cta-subtext {
    font-size: 12px;
    margin-top: 5px;
    font-weight: normal;
  }

  /* Trust Signals */
  .trust-signals {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 40px;
    margin-top: 40px;
    padding-top: 40px;
    border-top: 1px solid #e2e8f0;
    flex-wrap: wrap;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s ease-out forwards;
    animation-delay: 0.9s;
  }

  .trust-signal {
    height: 40px;
  }

  .trust-signal img {
    height: 100%;
    width: auto;
    object-fit: contain;
  }

  /* Hide trust signals on steps with submit button */
  .step-container[data-step="7"] .trust-signals {
    display: none;
  }

  .success-container p.success-message:nth-of-type(2) {
    font-weight: bold;
    font-size: 20px;
  }

  .success-container a.submit-button {
    margin-top: 20px !important;
  }

  .cf-turnstile {
    margin: 20px 0;
    display: flex;
    justify-content: center;
  }

  @media (max-width: 768px) {
    .funding-widget {
      flex-direction: column-reverse;
      min-height: auto;
    }

    .cf-turnstile {
      transform: scale(0.85);
      transform-origin: center;
    }

    .right-panel {
      padding: 20px;
    }

    .left-panel {
      padding: 40px;
    }

    .left-panel h1 {
      text-align: center;
    }

    .selling-point {
      justify-content: center;
    }

    .back-button {
      top: 20px;
      left: 20px;
    }

    .step-title {
      font-size: 22px;
    }

    .options-grid {
      grid-template-columns: 1fr;
    }

    .option-card:nth-child(5):last-child,
    .option-card:nth-child(7):last-child {
      grid-column: 1;
      max-width: none;
      margin: 0;
    }

    .option-card {
      padding: 16px 20px;
    }

    .option-text {
      font-size: 16px;
    }

    .trust-signals {
      gap: 20px;
      margin-top: 30px;
      padding-top: 30px;
    }

    .trust-signal {
      height: 30px;
    }

    .success-container {
      padding: 40px 10px 10px;
    }

    .success-main {
      flex-direction: column;
      gap: 20px;
    }

    .success-moose {
      display: none;
    }

    .success-logo {
      display: none;
    }

    .success-moose-mobile {
      display: block;
      width: 300px;
      margin: 25px auto;
    }

    .cta-buttons {
      flex-direction: column;
      gap: 15px;
    }

    .success-message {
      font-size: 16px;
      color: #718096;
      margin-bottom: 10px;
      text-align: center;
    }

    .success-title {
      text-align: center;
    }

    .thank-you-text {
      align-items: center;
    }

    .cta-button {
      width: 100%;
    }
  }
</style>

<div class="funding-widget">
  <!-- Left Panel -->
  <div class="left-panel">
    <h1>Get Business Funding Today</h1>
    <ul class="selling-points">
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        No Credit Pull Required
      </li>
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        Flexible Terms
      </li>
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        Early Payoff Discounts
      </li>
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        Apply in Seconds
      </li>
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        Offers Within a Few Hours
      </li>
      <li class="selling-point">
        <div class="check-icon">
          <svg viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        Unlimited Funding Amounts
      </li>
    </ul>
  </div>

  <!-- Right Panel -->
  <div class="right-panel">
    <button class="back-button" id="backButton" style="display: none;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M5 12l7 7m-7-7l7-7"/>
      </svg>
      Back
    </button>

    <div class="progress-container">
      <div class="progress-info" id="progressInfo">1 of 7</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <div class="form-content">
      <!-- STEP 1: Business Type -->
      <div class="step-container active" data-step="1">
        <div class="step-header">
          <div class="step-label">BUSINESS INFORMATION</div>
          <h2 class="step-title">What type of business do you own?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="sole-proprietor">
            <div class="check-mark">✓</div>
            <div class="option-text">Sole Proprietor</div>
          </div>
          <div class="option-card" data-value="partnership">
            <div class="check-mark">✓</div>
            <div class="option-text">Partnership</div>
          </div>
          <div class="option-card" data-value="llc">
            <div class="check-mark">✓</div>
            <div class="option-text">Limited Liability Company</div>
          </div>
          <div class="option-card" data-value="c-corporation">
            <div class="check-mark">✓</div>
            <div class="option-text">C Corporation</div>
          </div>
          <div class="option-card" data-value="s-corporation">
            <div class="check-mark">✓</div>
            <div class="option-text">S Corporation</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 2: Desired Funding Amount -->
      <div class="step-container" data-step="2">
        <div class="step-header">
          <div class="step-label">FUNDING DETAILS</div>
          <h2 class="step-title">What is your desired funding amount?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="10k-25k">
            <div class="check-mark">✓</div>
            <div class="option-text">$10k–25k</div>
          </div>
          <div class="option-card" data-value="25k-50k">
            <div class="check-mark">✓</div>
            <div class="option-text">$25k–50k</div>
          </div>
          <div class="option-card" data-value="50k-100k">
            <div class="check-mark">✓</div>
            <div class="option-text">$50k–100k</div>
          </div>
          <div class="option-card" data-value="100k-250k">
            <div class="check-mark">✓</div>
            <div class="option-text">$100k–250k</div>
          </div>
          <div class="option-card" data-value="250k-500k">
            <div class="check-mark">✓</div>
            <div class="option-text">$250k–500k</div>
          </div>
          <div class="option-card" data-value="500k+">
            <div class="check-mark">✓</div>
            <div class="option-text">$500k+</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 3: Financing Purpose -->
      <div class="step-container" data-step="3">
        <div class="step-header">
          <div class="step-label">USE OF FUNDS</div>
          <h2 class="step-title">What do you need the financing for?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="working-capital">
            <div class="check-mark">✓</div>
            <div class="option-text">Working Capital</div>
          </div>
          <div class="option-card" data-value="expansion">
            <div class="check-mark">✓</div>
            <div class="option-text">Expansion</div>
          </div>
          <div class="option-card" data-value="hire-staff">
            <div class="check-mark">✓</div>
            <div class="option-text">Hire Staff</div>
          </div>
          <div class="option-card" data-value="inventory">
            <div class="check-mark">✓</div>
            <div class="option-text">Inventory Acquisition</div>
          </div>
          <div class="option-card" data-value="equipment">
            <div class="check-mark">✓</div>
            <div class="option-text">Equipment Purchase</div>
          </div>
          <div class="option-card" data-value="debt-consolidation">
            <div class="check-mark">✓</div>
            <div class="option-text">Debt Consolidation</div>
          </div>
          <div class="option-card" data-value="payroll">
            <div class="check-mark">✓</div>
            <div class="option-text">Payroll</div>
          </div>
          <div class="option-card" data-value="bridge-receivables">
            <div class="check-mark">✓</div>
            <div class="option-text">Bridge Delayed Receivables</div>
          </div>
          <div class="option-card" data-value="other">
            <div class="check-mark">✓</div>
            <div class="option-text">Other</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 4: Monthly Revenue -->
      <div class="step-container" data-step="4">
        <div class="step-header">
          <div class="step-label">FINANCIAL INFORMATION</div>
          <h2 class="step-title">What is your average monthly revenue?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="under-10k">
            <div class="check-mark">✓</div>
            <div class="option-text">Under $10k</div>
          </div>
          <div class="option-card" data-value="10k-25k">
            <div class="check-mark">✓</div>
            <div class="option-text">$10k–25k</div>
          </div>
          <div class="option-card" data-value="25k-50k">
            <div class="check-mark">✓</div>
            <div class="option-text">$25k–50k</div>
          </div>
          <div class="option-card" data-value="50k-100k">
            <div class="check-mark">✓</div>
            <div class="option-text">$50k–100k</div>
          </div>
          <div class="option-card" data-value="100k-250k">
            <div class="check-mark">✓</div>
            <div class="option-text">$100k–250k</div>
          </div>
          <div class="option-card" data-value="250k+">
            <div class="check-mark">✓</div>
            <div class="option-text">$250k+</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 5: Time in Business -->
      <div class="step-container" data-step="5">
        <div class="step-header">
          <div class="step-label">BUSINESS INFORMATION</div>
          <h2 class="step-title">How long have you been in business?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="less-than-6-months">
            <div class="check-mark">✓</div>
            <div class="option-text">Less than 6 months</div>
          </div>
          <div class="option-card" data-value="6-12-months">
            <div class="check-mark">✓</div>
            <div class="option-text">6–12 months</div>
          </div>
          <div class="option-card" data-value="1-2-years">
            <div class="check-mark">✓</div>
            <div class="option-text">1–2 years</div>
          </div>
          <div class="option-card" data-value="2-5-years">
            <div class="check-mark">✓</div>
            <div class="option-text">2–5 years</div>
          </div>
          <div class="option-card" data-value="5+-years">
            <div class="check-mark">✓</div>
            <div class="option-text">5+ years</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 6: Credit Score -->
      <div class="step-container" data-step="6">
        <div class="step-header">
          <div class="step-label">CREDIT INFORMATION</div>
          <h2 class="step-title">What is your personal credit score?</h2>
        </div>
        <div class="options-grid">
          <div class="option-card" data-value="500-600">
            <div class="check-mark">✓</div>
            <div class="option-text">500–600</div>
          </div>
          <div class="option-card" data-value="600-650">
            <div class="check-mark">✓</div>
            <div class="option-text">600–650</div>
          </div>
          <div class="option-card" data-value="650-700">
            <div class="check-mark">✓</div>
            <div class="option-text">650–700</div>
          </div>
          <div class="option-card" data-value="700+">
            <div class="check-mark">✓</div>
            <div class="option-text">700+</div>
          </div>
        </div>
        <div class="trust-signals">
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e90fc6715aa4a911d3a_Group.svg" alt="BBB Accredited Business">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881ea8e1297aa9e752ecdb_Group%209.svg" alt="Trustpilot Reviews">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eb7767ff8b859aa98ff_Group-1.svg" alt="SSL Secured">
          </div>
          <div class="trust-signal">
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881eca3df2e30fad63cd54_McAfee_Secure.svg" alt="McAfee Secure">
          </div>
        </div>
      </div>

      <!-- STEP 7: Contact Info -->
      <div class="step-container" data-step="7">
        <div class="step-header">
          <div class="step-label">FINAL STEP</div>
          <h2 class="step-title">Finalize free estimate</h2>
        </div>
        <form id="contactForm">
          <div class="options-grid" style="margin-bottom: 30px;">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" class="form-input" required>
              <div class="error-message">Please enter your first name</div>
            </div>
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" class="form-input" required>
              <div class="error-message">Please enter your last name</div>
            </div>
          </div>
          <div class="form-group">
            <label for="businessName">Business Name</label>
            <input type="text" id="businessName" class="form-input" required>
            <div class="error-message">Please enter your business name</div>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" class="form-input" required>
            <div class="error-message">Please enter a valid email address</div>
          </div>
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" class="form-input" required>
            <div class="error-message">Please enter your phone number</div>
          </div>
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="consent" class="checkbox-input" required>
              <span>I consent to receive calls, texts, and emails about my loan application and understand that consent is not required to apply for a loan. Message and data rates may apply.</span>
            </label>
            <div class="error-message" style="margin-left: 32px;">You must check this box to continue</div>
          </div>
          <div class="form-group">
            <div id="cf-turnstile" class="cf-turnstile" data-sitekey="0x4AAAAAABpCfWnQIJTa4HoI"></div>
            <div class="error-message">Please complete the security verification</div>
          </div>
          <button type="submit" class="submit-button" id="submitButton">Get My Approval</button>
          <script type="text/javascript">
            document.getElementById('submitButton').addEventListener('click', function() {
              fbq('track', 'Lead');
            }, false);
          </script>
        </form>
      </div>

      <!-- Success Message -->
      <div class="success-container" id="successContainer">
        <div class="success-main">
          <div class="success-content">
            <div class="image-text" style="display: flex; gap: 30px;">
              <div class="thank-you-text" style="display: flex; flex-direction: column; justify-content: flex-end;">
                <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68881e170b85660175670503_TMM%20FULL%201.png" alt="The Money Moose Logo" class="success-logo">
                <h2 class="success-title">Thanks, <span id="successName"></span>. Your funding request is being reviewed.</h2>
                <p class="success-message" id="successQualify">Based on what you shared, you could qualify for up to $150,000— final confirmation coming shortly.</p>
              </div>
              <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/68882077d657942531735ed7_Frame%20130.png" alt="Moose Graphic" class="success-moose">
            </div>
            <div class="cta-buttons">
              <a id="callNowLink" href="#" class="cta-button call-now">
                Call Now
                <div class="cta-subtext">Get a Live Quote in 5 Minutes</div>
              </a>
              <a href="https://calendly.com/admin-versaficapital/15min" class="cta-button schedule-call">
                Schedule a Call
                <div class="cta-subtext">Don't Have Time? Pick a Time That Works Best</div>
              </a>
            </div>
            <img src="https://cdn.prod.website-files.com/6884b561a263f3a9e1ced750/688a5d6e24d03056d55d984e_Group%2017.avif" alt="Moose Graphic" class="success-moose-mobile">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  let currentStep = 1;
  const totalSteps = 7;
  const formData = {};

  const backButton = document.getElementById('backButton');
  const progressInfo = document.getElementById('progressInfo');
  const progressFill = document.getElementById('progressFill');
  const successContainer = document.getElementById('successContainer');

  function updateProgress() {
    progressInfo.textContent = currentStep + ' of ' + totalSteps;
    progressFill.style.width = (currentStep / totalSteps * 100) + '%';
    backButton.style.display = currentStep > 1 ? 'flex' : 'none';
  }

  function showStep(stepNumber) {
    const currentContainer = document.querySelector('.step-container.active');
    const targetStep = document.querySelector('[data-step="' + stepNumber + '"]');

    if (currentContainer && currentContainer !== targetStep) {
      currentContainer.classList.add('fade-out');
      currentContainer.classList.remove('show');

      setTimeout(function() {
        currentContainer.classList.remove('active', 'fade-out');

        if (targetStep) {
          targetStep.classList.add('active');
          targetStep.offsetHeight;
          requestAnimationFrame(function() {
            targetStep.classList.add('show');
          });
        }
      }, 300);
    } else if (targetStep && !currentContainer) {
      targetStep.classList.add('active');
      setTimeout(function() {
        targetStep.classList.add('show');
      }, 50);
    }

    updateProgress();
  }

  // Map step -> field name for option steps
  const stepNames = [
    'businessType',      // step 1
    'fundingAmount',     // step 2
    'fundingFor',        // step 3
    'monthlyRevenue',    // step 4
    'timeInBusiness',    // step 5
    'creditScore'        // step 6
  ];

  document.querySelectorAll('.option-card').forEach(function(card) {
    card.addEventListener('click', function() {
      const stepContainer = this.closest('.step-container');
      const step = parseInt(stepContainer.dataset.step, 10);
      const value = this.dataset.value;

      // Clear previous selection in this step
      stepContainer.querySelectorAll('.option-card').forEach(function(c) {
        c.classList.remove('selected');
      });

      // Select this one
      this.classList.add('selected');

      // Save value to formData (only for option steps 1–6)
      if (step >= 1 && step <= 6) {
        formData[stepNames[step - 1]] = value;
      }

      // Move to next step
      setTimeout(function() {
        if (currentStep < totalSteps) {
          currentStep++;
          showStep(currentStep);
        }
      }, 400);
    });
  });

  backButton.addEventListener('click', function() {
    if (currentStep > 1) {
      currentStep--;
      showStep(currentStep);
    }
  });

  function validateEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  function validatePhone(phone) {
    return /^[\d\s\-\(\)\+]+$/.test(phone) && phone.replace(/\D/g, '').length >= 10;
  }

  function showError(input, message) {
    input.classList.add('error');
    const errorElement = input.nextElementSibling;
    if (errorElement && errorElement.classList.contains('error-message')) {
      if (message) errorElement.textContent = message;
      errorElement.classList.add('show');
    }
  }

  function clearError(input) {
    input.classList.remove('error');
    const errorElement = input.nextElementSibling;
    if (errorElement && errorElement.classList.contains('error-message')) {
      errorElement.classList.remove('show');
    }
  }

  document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    document.querySelectorAll('.form-input').forEach(clearError);

    const turnstileError = document.querySelector('#cf-turnstile').nextElementSibling;
    if (turnstileError) {
      turnstileError.classList.remove('show');
    }

    let isValid = true;

    const firstName = document.getElementById('firstName');
    const lastName = document.getElementById('lastName');
    const businessName = document.getElementById('businessName');
    const email = document.getElementById('email');
    const phone = document.getElementById('phone');
    const consent = document.getElementById('consent');

    if (!firstName.value.trim()) {
      showError(firstName);
      isValid = false;
    }

    if (!lastName.value.trim()) {
      showError(lastName);
      isValid = false;
    }

    if (!businessName.value.trim()) {
      showError(businessName);
      isValid = false;
    }

    if (!validateEmail(email.value)) {
      showError(email);
      isValid = false;
    }

    if (!validatePhone(phone.value)) {
      showError(phone);
      isValid = false;
    }

    if (!consent.checked) {
      const consentError = consent.closest('.checkbox-group').querySelector('.error-message');
      consentError.classList.add('show');
      isValid = false;
    } else {
      const consentError = consent.closest('.checkbox-group').querySelector('.error-message');
      consentError.classList.remove('show');
    }

    let turnstileResponse = '';
    if (typeof turnstile !== 'undefined') {
      turnstileResponse = turnstile.getResponse();
      if (!turnstileResponse) {
        if (turnstileError) {
          turnstileError.classList.add('show');
        }
        isValid = false;
      }
    }

    // Ensure all previous option steps are answered
    if (!formData.businessType ||
        !formData.fundingAmount ||
        !formData.fundingFor ||
        !formData.monthlyRevenue ||
        !formData.timeInBusiness ||
        !formData.creditScore) {
      alert('Please complete all previous steps before submitting.');
      isValid = false;
    }

    if (!isValid) {
      if (typeof turnstile !== 'undefined') {
        turnstile.reset();
      }
      return;
    }

    formData.firstName = firstName.value.trim();
    formData.lastName = lastName.value.trim();
    formData.businessName = businessName.value.trim();
    formData.email = email.value.trim();
    formData.phone = phone.value.trim();
    formData.consent = consent.checked;
    formData.turnstileToken = turnstileResponse;
    formData.timestamp = new Date().toISOString();

    // A-варіант: створюємо навіть unqualified, але ставимо прапорець
    const isUnqualified =
      formData.monthlyRevenue === 'under-10k' ||
      formData.timeInBusiness === 'less-than-6-months';

    formData.unqualified = isUnqualified;

    const submitButton = document.getElementById('submitButton');
    submitButton.disabled = true;
    submitButton.textContent = 'Submitting...';

    try {
      const webhookUrl = 'https://hook.us2.make.com/bu4f15314dspt1d9yicbxd6256kditiu';

      console.log('Sending form data:', formData);

      const response = await fetch(webhookUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
      });

      if (!response.ok) {
        throw new Error('Webhook response was not ok');
      }

      document.querySelector('.step-container.active').classList.remove('active');
      document.querySelector('.progress-container').style.display = 'none';
      backButton.style.display = 'none';
      successContainer.style.display = 'block';

      document.getElementById('successName').textContent = formData.firstName;

      const amountMap = {
        '10k-25k': '25,000',
        '25k-50k': '50,000',
        '50k-100k': '100,000',
        '100k-250k': '150,000',
        '250k-500k': '250,000',
        '500k+': '500,000'
      };
      const qualifyAmount = amountMap[formData.fundingAmount] || '150,000';
      document.getElementById('successQualify').textContent =
        'Based on what you shared, you could qualify for up to $' + qualifyAmount + '— final confirmation coming shortly.';

      const phoneNumbers = ['917-544-2044', '917-683-2949', '347-224-7052', '347-524-9018'];
      const randomPhone = phoneNumbers[Math.floor(Math.random() * phoneNumbers.length)];
      document.getElementById('callNowLink').href = 'tel:' + randomPhone;

    } catch (error) {
      console.error('Error submitting form:', error);
      submitButton.disabled = false;
      submitButton.textContent = 'Get My Approval';
      if (typeof turnstile !== 'undefined') {
        turnstile.reset();
      }
      alert('There was an error submitting your application. Please try again.');
    }
  });

  document.querySelectorAll('.form-input').forEach(function(input) {
    input.addEventListener('input', function() {
      clearError(this);
    });
  });

  updateProgress();
  const firstStep = document.querySelector('[data-step="1"]');
  if (firstStep) {
    firstStep.classList.add('show');
  }
})();
</script>
